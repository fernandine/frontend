<div class="green-background">
  <div class="card-container">
    <nz-card class="shadow card-wrapper">
      <form
        *ngIf="!emailSent"
        nz-form
        nzLayout="vertical"
        [formGroup]="form"
        (ngSubmit)="handleRequest()"
      >
        <span
          class="d-inline-block align-middle"
          style="cursor: pointer"
          nz-icon
          (click)="gotoLogin()"
          nzType="arrow-left"
          nzTheme="outline"
        ></span>
        <h2 class="text-center mt-2">
          <div class="logo text-center mb-4">
            <img src="./assets/images/logo.png" width="200px" />
          </div>
        </h2>

        <br />
        <nz-form-item>
          <nz-form-label nzFor="email">Digite seu e-mail</nz-form-label>
          <nz-form-control
            [nzErrorTip]="
              form.get('email').hasError('required')
                ? 'Informe um e-mail!'
                : null || form.get('email').hasError('email')
                ? 'E-mail inválido!'
                : null
            "
          >
            <nz-input-group nzPrefixIcon="mail">
              <input
                type="text"
                placeholder="E-mail"
                formControlName="email"
                nz-input
              />
            </nz-input-group>
          </nz-form-control>
        </nz-form-item>

        <button
          nz-button
          class="btn-unicasu-primary mt-2"
          nzBlock
          nzSize="large"
          [nzLoading]="loading"
        >
          Confirmar
        </button>
      </form>

      <form *ngIf="emailSent" nz-form nzLayout="vertical">
        <h2 class="text-center mt-2">
          <div class="logo text-center mb-4">
            <img
              src="./assets/images/success-request.png"
              width="70px"
              alt="Unicasu Logo"
            />
          </div>
        </h2>

        <br />

        <div class="success-container-message mt-1 mb-5">
          <p class="success-text">
            Verifique seu e-mail. <br />Enviamos uma mensagem para você validar
            sua conta antes de você fazer seu primeiro login.
          </p>
        </div>

        <button
          nz-button
          class="btn-unicasu-primary mt-2"
          nzBlock
          nzSize="large"
          (click)="gotoLogin()"
        >
          Confirmar
        </button>
      </form>
    </nz-card>
  </div>
</div>
